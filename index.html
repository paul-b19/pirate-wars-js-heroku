<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" href="media/pirate-icon.ico">
    <title>Pirate Wars</title>

    <style>
      html { 
        background: url(media/bg_1280.jpg) no-repeat center center fixed; 
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
      }
    </style>

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/custom-styles.css" rel="stylesheet">
  </head>
  <body>

    <!-- header with navigation bar -->
    <div class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
      <div class="container">
        <a class="navbar-brand">
          <img class="navbar-logo" alt="Pirate Flag Logo" src="media/pirate-navbar-logo.png">
          Pirate Wars
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="" data-toggle="modal" data-target="#rules">Rules</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="" data-toggle="modal" data-target="#inviteFriend">Invite a friend</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="" data-toggle="modal" data-target="#about">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/paul-b19/pirate-wars-js-frontend" target="_blank">GitHub</a>
            </li>
            <li class="nav-item" id="music">
              <a class="nav-link" href="" onclick="music(event)">Turn On Sound</a>
              <audio autoplay="autoplay" loop="true" src="media/Karstenholymoly_-_The_Thunderstorm.mp3"></audio>
            </li>
            <li class="nav-item" id="quit-link" style="display: none;">
              <a class="nav-link" href="" onclick="quitGame(event)">Quit</a>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- title, logo and progress bar with a message while starting heroku -->
    <div class="while-loading text-center" style="display: none;">  <!-- style="display: initial;" -->
      <h1 class="welcome">Ahoy! Welcome to <img class="logo" alt="Pirate Flag Logo" src="media/pirate-navbar-logo.png">
        Pirate Wars
      </h1>
      <div class="loading-bar col-xs-12">
        <h3 id="progress-animated">No worries, capt'n, game's loading...</h3>
        <div class="progress" style="height: 20px;">
          <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%"></div>
        </div>
      </div>
    </div>

    <!-- main home screen with leaderboard -->
    <div class="home-screen text-center" id="home-screen" style="display: initial;">
      <h1 class="welcome">Ahoy! Welcome to <img class="logo" alt="Pirate Flag Logo" src="media/pirate-navbar-logo.png">
        Pirate Wars
      </h1>

      <form>
        <div class="player-name col-sm-12 d-flex justify-content-center" id="player-name">   <!-- class="row" -->
          <label for="playerName" class="col-lg-2 col-sm-3 col-xs-4 col-form-label text-center">Enter your name</label>
          <div class="col-md-4 col-sm-5 col-xs-7" style="display: initial;">
            <input type="text" class="form-control" id="playerName" placeholder="your name">
            <div class="invalid-feedback" style="display: none;">Please, enter your name!</div>
          </div>
        </div>

        <div class="avatars col-sm-12 row d-flex justify-content-between" id="avatar-radio-button">
          <label class="col-sm-2 col-xs-4 col-form-label text-center">Select avatar</label>
          <!-- avatar options are rendered here -->
        </div>

        <button type="submit" class="btn btn-primary" onclick="letsPlay(event)">Let's Play!</button>
      </form>

      <div class="leaderboard">
        <h3 id="leaderboard-label">Leaderboard</h3>
        <table class="table table-hover">
          <thead>
            <tr>
              <th scope="col">Player</th>
              <th scope="col">Wins</th>
              <th scope="col">Losses</th>
              <th scope="col">Accuracy</th>
            </tr>
          </thead>
          <tbody>
            <!-- leaderboard is rendered here -->
          </tbody>
        </table> 
      </div>
      
    </div>

    <!-- game screen -->
    <div class="container-fluid game-container" id="game-container" style="display: none;">
      <div class="game-screen row">
        <!-- ships selection -->
        <div class="game-grid ships-selection col-xs-12 col-sm-6" id="ships-selection" style="display: block;">
          <!-- ships board is rendered here -->
          <div class="ships-box col-xs-12 row">
            <div class="col-xs-12">
              <h3 style="font-size:3vmax;">Arrange your ships</h3>
            </div>
          </div>
          <div class="ships-box col-xs-12 row">
            <div class="ship-four col-xs-12" name="ship-four">
              <img class="set-active img-fluid" type="ship" src="media/ships/ship-four.png" alt="ship-four">
            </div>
          </div>
          <div class="ships-box col-xs-12 row">
            <div class="ship-three col-xs-6" name="ship-three">
              <img class="set-active img-fluid" type="ship" src="media/ships/ship-three.png" alt="ship-three">
            </div>
            <div class="ship-three col-xs-6" name="ship-three">
              <img class="set-active img-fluid" type="ship" src="media/ships/ship-three.png" alt="ship-three">
            </div>
          </div>
          <div class="ships-box col-xs-12 row">
            <div class="ship-two col-xs-4" name="ship-two">
              <img class="set-active img-fluid" type="ship" src="media/ships/ship-two.png" alt="ship-two">
            </div>
            <div class="ship-two col-xs-4" name="ship-two">
              <img class="set-active img-fluid" type="ship" src="media/ships/ship-two.png" alt="ship-two">
            </div>
            <div class="ship-two col-xs-4" name="ship-two">
              <img class="set-active img-fluid" type="ship" src="media/ships/ship-two.png" alt="ship-two">
            </div>
          </div>
          <div class="ships-box col-xs-12 row">
            <div class="ship-one col-xs-3" name="ship-one">
              <img class="set-active img-fluid" type="ship" src="media/ships/ship-one.png" alt="ship-one">
            </div>
            <div class="ship-one col-xs-3" name="ship-one">
              <img class="set-active img-fluid" type="ship" src="media/ships/ship-one.png" alt="ship-one">
            </div>
            <div class="ship-one col-xs-3" name="ship-one">
              <img class="set-active img-fluid" type="ship" src="media/ships/ship-one.png" alt="ship-one">
            </div>
            <div class="ship-one col-xs-3" name="ship-one">
              <img class="set-active img-fluid" type="ship" src="media/ships/ship-one.png" alt="ship-one">
            </div>
          </div>

          <div class="ships-btns col-xs-12 row">
            <div class="ship-two col-xs-4">
              <button type="button" id="rotate" class="btn btn-primary btn-md btn-block">Rotate</button>
            </div>
            <div class="ship-two col-xs-4">
              <button type="button" id="random" class="btn btn-primary btn-md btn-block">Random</button>
            </div>
            <div class="ship-two col-xs-4">
              <button type="button" id="go" class="set-selected btn btn-primary btn-md btn-block">Go!</button>
            </div>
          </div>

        </div>
        <!-- player's grid -->
        <div class="game-grid col-xs-12 col-sm-6" id="player-grid">
          <!-- grid's rendered here -->
        </div>
        <!-- computer's grid -->
        <div class="game-grid col-xs-12 col-sm-6" id="computer-grid" style="display: none;">
          <!-- grid's rendered here -->
        </div>
      </div>
      <!-- game chat -->
      <div class="game-chat row text-center">
        <div class="col-lg-12 d-none d-lg-block">
          <h1>Yeah, let's see what you can!</h1>
        </div>
      </div>
    </div>

    <!-- Rules -->
    <div class="modal fade" id="rules" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="rulesTitle">Rules</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <h3>Goal</h3>
            <ul>
              <li>Sink all of your opponent's ships.</li>
            </ul>
            <h3>Setup</h3>
            <ul>
              <li>Place ships on board by clicking and placing on game grid.</li>
              <li>Ships by default are placed horizontally. Select ship and then rotate before placing to change orientation.</li>
            </ul>
            <h3>Rules</h3>
            <ul>
              <li>Take turns firing shots by selecting coordinates on computer grid.</li>
              <li>If a player hits the opponent's boat, the coordinate turns red indicating a ship was hit. Player gets to go again.</li>
              <li>A ship is sunk when all the coordinates for each boat are hit. The coordinate turns black indicating a sunken ship.</li>
            </ul>
            <div class="text-center">
              <img class="logo" alt="Pirate Flag Logo" src="media/pirate-navbar-logo.png">
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- invite friend modal window -->
    <div class="modal fade" id="inviteFriend" tabindex="-1" role="dialog" aria-hidden="true"> <!-- aria-labelledby="inviteFriendTitle" -->
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="inviteFriendTitle">Invite Friend</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form>
              <div class="invite col-xs-12 d-flex justify-content-center">
                <label for="yourName" class="col-lg-4 col-xs-5 col-form-label text-center">Enter your name</label>
                <div class="col-lg-5 col-xs-7">
                  <input type="text" class="form-control" id="yourName" placeholder="your name">
                </div>
              </div>
              <div class="invite col-xs-12 d-flex justify-content-center">
                <label for="email" class="col-lg-4 col-xs-5 col-form-label text-center">Friend's email</label>
                <div class="col-lg-5 col-xs-7">
                  <input type="text" class="form-control" id="email" placeholder="@email">
                </div>
              </div>
              <div class="invite col-xs-12 d-flex justify-content-center">
                <button type="submit" class="btn btn-primary" data-dismiss="modal" onclick="inviteFriend(event)">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- About -->
    <div class="modal fade" id="about" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="aboutTitle">About</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <h3>Backend:</h3>
            <ul>
              <li>Rails API</li>
              <li>PostgreSQL</li>
              <li>Heroku</li>
            </ul>
            <h3>Frontend:</h3>
            <ul>
              <li>Vanilla JavaScript</li>
              <li>jQuery</li>
              <li>Bootstrap</li>
              <li>Heroku</li>
            </ul>
            <h3>Background music:</h3>
            <div class="attribution-block"><a href="http://dig.ccmixter.org/files/Karstenholymoly/41792">The Thunderstorm</a> by Karstenholymoly (c) copyright 2013 Licensed under a Creative Commons <a href="http://creativecommons.org/licenses/by-nc/3.0/">Attribution Noncommercial  (3.0)</a> license. Ft: morgantj</div>
            <br>
            <div class="text-center">
              <img class="qr-code" alt="QR Code" src="media/qr_code.png">
            </div>
            <div class="text-center">
              <img class="logo" alt="Pirate Flag Logo" src="media/pirate-navbar-logo.png">
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- after battle modal window -->
    <div class="modal fade" id="gameOver" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-body">
            <div class="game-over text-center">
              <img class="logo" alt="Pirate Flag Logo" src="media/pirate-navbar-logo.png">
              <h3 class="text-center"></h3>
            </div>
            <div class="text-center">
              <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="playAgain()">Play Again</button>
              <button type="button" id="modal-quit" class="btn btn-primary" data-dismiss="modal" onclick="quitGame(event)">Quit Game</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- footer -->
    <footer class="footer col-sm-12">
      <div class="container">
        <span class="text-muted">
          Made by <a href="https://www.linkedin.com/in/pavel-beletsky/" target="_blank">
          Pavel Beletsky</a> and <a href="https://www.linkedin.com/in/barak-saidoff-3a2a36b2/" target="_blank">Barak Saidoff</a>.
        </span>
      </div>
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="index.js"></script>

  </body>
</html>